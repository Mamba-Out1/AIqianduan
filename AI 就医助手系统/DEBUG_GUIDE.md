# 待就诊界面问题排查指南

## 问题描述
点击待就诊列表中的患者后界面显示空白

## 可能原因和解决方案

### 1. 检查后端服务
确保后端服务运行在 `http://localhost:8070`

```bash
# 检查后端服务状态
curl http://localhost:8070/api/visits/doctor/doctor_001
```

### 2. 检查浏览器控制台
打开浏览器开发者工具，查看：
- Console 标签页是否有错误信息
- Network 标签页是否有API请求失败

### 3. 使用测试组件
当前已切换到 `SimpleWaitingRoom` 测试组件，该组件包含：
- 详细的调试信息显示
- 控制台日志输出
- 简化的界面逻辑

### 4. 常见问题检查

#### API连接问题
- 检查 `visitsAPI.ts` 中的 baseURL 配置
- 确认后端CORS设置正确

#### 数据格式问题
- 检查后端返回的数据格式是否符合 `Visit` 接口定义
- 确认患者数据中包含必要字段

#### 组件渲染问题
- 检查是否有JavaScript错误导致组件崩溃
- 确认所有必要的UI组件都正确导入

## 调试步骤

1. **启动前端服务**
   ```bash
   npm run dev
   ```

2. **打开浏览器开发者工具**
   - 按F12或右键选择"检查"
   - 切换到Console标签页

3. **进入待就诊界面**
   - 点击"进入待就诊界面"按钮
   - 观察控制台输出和调试信息

4. **点击患者**
   - 点击左侧患者列表中的任一患者
   - 查看控制台是否有"点击患者"和"选择患者"的日志
   - 观察右侧是否显示患者详情

## 预期行为

正常情况下应该看到：
1. 左侧显示待就诊患者列表
2. 调试信息框显示当前状态
3. 点击患者后右侧显示患者详细信息
4. 控制台输出相关日志

## 如果问题仍然存在

1. 检查后端数据库中是否有测试数据
2. 确认医生ID `doctor_001` 对应的患者记录
3. 检查患者状态是否为 `SCHEDULED` 或 `IN_PROGRESS`

## 恢复完整功能

问题解决后，将 `DoctorView.tsx` 中的：
```typescript
<SimpleWaitingRoom 
```
改回：
```typescript
<WaitingRoomView 
```